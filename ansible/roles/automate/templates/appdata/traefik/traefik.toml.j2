[Global]
  CheckNewVersion = false
  SendAnonymousUsage = false

[Log]
  Level = "WARN"

[AccessLog]

[Providers]
  [Providers.File]
    Directory = "/traefik.d"
  [Providers.Docker]
    DefaultRule = "Host(`{{ '{{ .Name }}' }}.docker.localhost`, `{{ '{{ .Name }}' }}.{{ domain_name }}`)"
    ExposedByDefault = false
    Network = "public"

[ServersTransport]
  MaxIdleConnsPerHost = 50
  [ServersTransport.ForwardingTimeouts]
    DialTimeout = 15
    ResponseHeaderTimeout = 5

[TLS]
  [TLS.Options]
    [TLS.Options.default]
      SniStrict = true
      MinVersion = "VersionTLS13"

[CertificatesResolvers.default.acme]
  Email = "{{ acme_email }}"
  Storage = "/etc/traefik/acme/acme.json"
  KeyType = "RSA4096"
  [CertificatesResolvers.default.acme.dnsChallenge]
    Provider = "gcloud"
    Resolvers = ["1.1.1.1:53", "1.0.0.1:53"]

[EntryPoints]
  [EntryPoints.http]
    address = ":80"
    [EntryPoints.http.Transport]
      [EntryPoints.http.Transport.RespondingTimeouts]
        IdleTimeout = 5
  [EntryPoints.https]
    address = ":443"
    [EntryPoints.https.Transport]
      [EntryPoints.https.Transport.RespondingTimeouts]
        IdleTimeout = 300
  [EntryPoints.mqtts]
    address = ":8883"

[api]
  Dashboard = true
